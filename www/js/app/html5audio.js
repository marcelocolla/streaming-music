!function(e,n,t){function i(e){1==e&&u.play()}function l(e){return(10>e?"0":"")+e}var a=e.getElementById("textposition"),o=e.getElementById("playbutton"),s=e.getElementById("stopbutton"),d=e.getElementById("activityindicator"),r="http://stream.4zzzfm.org.au:789/;",y=new Audio(r),c=!1,p=null,u={play:function(){c=!0,y.play({playAudioWhenScreenIsLocked:!1}),p=setInterval(function(){y.readyState<=2&&(o.style.display="none",d.style.display="block",a.innerHTML="loading...")},1e3),y.addEventListener("timeupdate",function(){var e=parseInt(y.currentTime%60),n=parseInt(y.currentTime/60%60),t=parseInt(y.currentTime/60/60%60);c&&y.currentTime>0&&(a.innerHTML=l(t)+":"+l(n)+":"+l(e))},!1),y.addEventListener("error",function(){console.log("myaudio ERROR")},!1),y.addEventListener("canplay",function(){console.log("myaudio CAN PLAY")},!1),y.addEventListener("waiting",function(){c=!1,o.style.display="none",s.style.display="none",d.style.display="block"},!1),y.addEventListener("playing",function(){c=!0,o.style.display="none",d.style.display="none",s.style.display="block"},!1),y.addEventListener("ended",function(){u.stop(),n.confirm("Streaming failed. Possibly due to a network error. Retry?")&&i()},!1)},pause:function(){c=!1,clearInterval(p),y.pause(),s.style.display="none",d.style.display="none",o.style.display="block"},stop:function(){c=!1,clearInterval(p),y.pause(),s.style.display="none",d.style.display="none",o.style.display="block",y=null,y=new Audio(r),a.innerHTML=""}};o.addEventListener("click",u.play,!1),s.addEventListener("click",u.stop,!1),d.addEventListener("click",u.stop,!1),u.play()}(document,window);